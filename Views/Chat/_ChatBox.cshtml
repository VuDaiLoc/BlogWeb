@{
    var threadId = ViewBag.ThreadId;
    var partnerName = ViewBag.PartnerName;
}

<div id="chat-popup-@threadId" class="position-fixed bottom-0 end-0 m-3 bg-white border rounded shadow p-2" style="width: 300px; z-index: 1050;">
    <div class="d-flex justify-content-between align-items-center border-bottom pb-1 mb-2">
        <strong>@partnerName</strong>
        <button class="btn-close btn-sm" onclick="closeChat(@threadId)"></button>
    </div>
    <div style="height: 200px; overflow-y: auto;" id="chatContent_@threadId">
        <p class="text-muted text-center">Chưa có tin nhắn...</p>
    </div>
    <form onsubmit="return sendMessage(event, @threadId)">
        <div class="input-group mt-2">
            <input type="text" class="form-control" placeholder="Nhập tin nhắn..." id="msg-@threadId" />
            <button type="submit" class="btn btn-primary">Gửi</button>
        </div>
    </form>
</div>
